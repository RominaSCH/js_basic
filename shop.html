<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shop</title>
    <link rel="stylesheet" href="shop.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    
  </head>
  <body>
    <div class="card-group container">
      <!-- <div class="card">
        <img src="https://via.placeholder.com/600" />
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-price">가격 : 70000</p>
          <button class="btn btn-danger">주문하기</button>
        </div>
      </div>
      <div class="card">
        <img src="https://via.placeholder.com/600" />
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-price">가격 : 70000</p>
          <button class="btn btn-danger">주문하기</button>
        </div>
      </div>
      <div class="card">
        <img src="https://via.placeholder.com/600" />
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-price">가격 : 70000</p>
          <button class="btn btn-danger">주문하기</button>
        </div>
      </div> -->
    </div>
    <div class="container">
      <button class="btn btn-secondary" id="sortPrice">낮은 가격순 정렬</button>
      <button class="btn btn-secondary" id="filterPrice">6만원 이하 상품만 보기</button>
      <button class="btn btn-secondary" id="filterAlpha">알파벳순 정렬</button>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script>
      var productsObj = [
        { id: 0, price: 70000, title: "Blossom Dress" },
        { id: 1, price: 50000, title: "Springfield Shirt" },
        { id: 2, price: 60000, title: "Black Monastery" },
      ];
      
      var products = [...productsObj];//값 공유 안되는 별개의 사본 생성 가능


      productView(products);
      function productView(array){
        $(".card-group").html("");
        for(var i = 0;i < array.length;i++){
          $(".card-group").append(`<div class="card col-4">
        <img src="https://via.placeholder.com/600" />
        <div class="card-body">
          <h5 class="card-title">${array[i].title}</h5>
          <p class="card-price">가격 : ${array[i].price}</p>
          <button class="btn btn-danger">주문하기</button>
        </div>
      </div>`);
          // $(".card-title").eq(i).html(array[i].title);
          // $(".card-price").eq(i).html(array[i].price);
        }
      }
      //숙제1. 가나다순 정렬버튼, 기능제작
      //숙제2. filter 5만원 이하상품만 보여주기, 기능제작

      $("#sortPrice").click(() => {
        products.sort((a,b) => {
          return a.price - b.price;
        })
        productView(products);
      })

      $("#filterPrice").click(() => {
        const newProduct = products.filter((a) => {
          return a.price <= 60000;
        })
        productView(newProduct);
      })

      $("#filterAlpha").click(() => {
        products.sort((a,b) => {
          let x = a.title.toLowerCase();
          let y = b.title.toLowerCase();
          if(x < y){
            return -1;
          }else if(x > y){
            return 1;
          } else{
            return 0;
          }
        });
        productView(products);
      })
      // let array = [2,4,6,1,79];

      // //sort 는 문자정렬, 파괴함수여서 자료를 변형한다.
      // array.sort((a,b) => { //sort 숫자정렬, 외워야 하는 부분
      //   return b-a;//a-b는 오름차순, +를 return하면 a 오른쪽 b 왼쪽, -를 return하면 b오른쪽 a 왼쪽
      //   //return b-a는 내림차순
      //   //cba순 정렬?? 모르겠음.. 구현가능, 인터넷에 많음. 문자끼리 부등호 비교 가능
      // })

      // let newArray = array.filter((a) => { //parameter 하나, 자료변형X
      //   return a < 4 //return 조건식
      // })
      // console.log(newArray);

      // const newArray = array.map((a) => { //array자료 하나하나에 어떤 처리를 하고싶을 때
      //   return a*5;
      // })
    </script>

    <script>
      //웹 개발의 두 가지 방식
      //1. 서버에 HTML파일을 다 완성해서 보내기
      //2. 텅 빈 HTML 파일에 상품 데이터만 보내고 완성은 프론트엔드에서 자바스크립트 시키기
    </script>
  </body>
</html>
